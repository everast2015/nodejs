# nodejs 学习笔记

## 进程和线程的关系

- 进程为程序的运行提供必备的环境
- 进程就相当于工厂中的车间

线程：

- 线程计算机中最小的计算单位，线程负责进程中执行的程序
- 线路就相当于工厂中的工人

单线程和多线程：

- js 是单线程，相当于一个人干活
- 多线程，相当于多个人一起干活


## 模块化概念

1. 在nodejs中，引入文件的路径，必须是以`./`或者`../` 相对路径的形式进行引入。
2. 在nodejs中，如果引入的文件的路径是没有`./`或者 `../`，那么默认去`node_modules` 依赖包里面去查找。
3. 在nodejs中，一个js文件就是一个模块
4. 每一个js文件中的代码，都是独立运行在一个函数当中，而不是全局作用域，所以一个模块中的变量和函数在其他模块中，无法访问。


如何解决js中的模块不能互相访问的问题：

1. 此时需要导出模块，此时可以使用关键词 `export` 导出模块
2. 向外部暴露属性的方法


### 模块化详解

在node中模块分为两个部分

- 核心模块
  - 核心模块一般引入的就是模块的名称
  - 例如：`require('path')`
- 用户模块
  - 一般都是相对路径的方式进行进入模块
  - 例如：`require('./compress.js')`


在node中有一个全局对象，`global`，她的作用和网页中的window类似

- 在全局中创建的变量都会作为global的属性保存
- 在全局中创建的函数都会作为global的方法保存

nodejs 中，导出几个方法的区别

- exports
  - 该对象用来将变量或函数暴露到外部

- require
  - 函数，用来引入外部的模块
  
 - module
    - module 代表的是当前模块本身
    - exports 就是modules的属性
  
  - filename 文件的名称
    - 当前模块完整路径
  
  - dirname
    - 当前模块所在文件夹完整路径



### module.exports 和 exports 的区别

```js
modules.exports = {
  name: 'everast',
  age: '18'
}
// 导出是所有的对象
```
- 通过exports只能使用.的方式来向外暴露内部变量
```js
exports.xxx = xxx
```
- 而module.exports 既可以通过.的形式，也可以直接赋值

```js
modules.exports.xxx = xxx
```






